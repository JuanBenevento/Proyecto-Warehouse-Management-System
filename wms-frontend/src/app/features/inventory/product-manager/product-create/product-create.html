<div class="max-w-4xl mx-auto">
  
  <div class="flex items-center gap-4 mb-6">
    <button (click)="cancelEdit()" class="p-2 rounded-full hover:bg-slate-200 text-slate-500 transition-colors">
      <i class="bi bi-arrow-left text-xl"></i>
    </button>
    <div>
      <h2 class="text-2xl font-bold text-slate-800">
        {{ isEditing ? 'Editar Ficha Técnica' : 'Alta de Producto' }}
      </h2>
      <p class="text-slate-500 text-sm">Completa los datos maestros y logísticos.</p>
    </div>
  </div>

  <form (ngSubmit)="onSubmit()" class="space-y-6">
    
    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200">
      <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 border-b pb-2">Información General</h3>
      
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">SKU (Código Único)</label>
          <div class="relative">
            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
              <i class="bi bi-barcode text-slate-400"></i>
            </div>
            <input type="text" [(ngModel)]="product.sku" name="sku" [disabled]="isEditing" required placeholder="Ej: SKU-12345"
                   class="pl-10 w-full rounded-lg border-slate-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 disabled:bg-slate-100 disabled:text-slate-500 font-mono uppercase">
          </div>
          <p *ngIf="isEditing" class="text-xs text-amber-600 mt-1"><i class="bi bi-lock-fill"></i> El SKU no se puede modificar.</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-slate-700 mb-1">Nombre Comercial</label>
          <input type="text" [(ngModel)]="product.name" name="name" required placeholder="Ej: Laptop Gamer X1"
                 class="w-full rounded-lg border-slate-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
        </div>

        <div class="md:col-span-2">
          <label class="block text-sm font-medium text-slate-700 mb-1">Descripción Detallada</label>
          <textarea [(ngModel)]="product.description" name="desc" rows="3" placeholder="Detalles, color, modelo..."
                    class="w-full rounded-lg border-slate-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500"></textarea>
        </div>
      </div>
    </div>

    <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 relative overflow-hidden">
      
      <div class="absolute top-0 right-0 p-4 opacity-10">
        <i class="bi bi-box text-9xl text-indigo-600"></i>
      </div>

      <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-4 border-b pb-2 relative z-10">Datos Logísticos</h3>
      
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 relative z-10">
        <div>
          <label class="block text-xs font-medium text-slate-500 mb-1 uppercase">Ancho (cm)</label>
          <input type="number" [(ngModel)]="product.dimensions.width" name="w" required min="0"
                 class="w-full rounded-lg border-slate-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-center font-bold text-slate-700">
        </div>
        <div>
          <label class="block text-xs font-medium text-slate-500 mb-1 uppercase">Alto (cm)</label>
          <input type="number" [(ngModel)]="product.dimensions.height" name="h" required min="0"
                 class="w-full rounded-lg border-slate-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-center font-bold text-slate-700">
        </div>
        <div>
          <label class="block text-xs font-medium text-slate-500 mb-1 uppercase">Profundidad (cm)</label>
          <input type="number" [(ngModel)]="product.dimensions.depth" name="d" required min="0"
                 class="w-full rounded-lg border-slate-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-center font-bold text-slate-700">
        </div>
        <div>
          <label class="block text-xs font-bold text-indigo-600 mb-1 uppercase">Peso (kg)</label>
          <input type="number" [(ngModel)]="product.dimensions.weight" name="wg" required min="0"
                 class="w-full rounded-lg border-indigo-300 shadow-sm focus:ring-indigo-500 focus:border-indigo-500 text-center font-black text-indigo-900 bg-indigo-50">
        </div>
      </div>
    </div>

    <div class="flex justify-end gap-4 pt-4">
      <button type="button" (click)="cancelEdit()" class="px-6 py-2.5 rounded-lg border border-slate-300 text-slate-600 font-medium hover:bg-slate-50 transition-colors">
        Cancelar
      </button>
      <button type="submit" class="px-8 py-2.5 rounded-lg bg-indigo-600 text-white font-bold shadow-lg hover:bg-indigo-700 hover:shadow-xl transition-all transform hover:-translate-y-0.5">
        {{ isEditing ? 'Guardar Cambios' : 'Crear Producto' }}
      </button>
    </div>

  </form>
</div>