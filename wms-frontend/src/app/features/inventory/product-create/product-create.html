<div class="card shadow-sm h-100">
  <div class="card-header text-white" [ngClass]="isEditing ? 'bg-warning' : 'bg-primary'">
    <h5 class="mb-0 text-white">
      <i class="bi" [ngClass]="isEditing ? 'bi-pencil-square' : 'bi-box-seam'"></i>
      {{ isEditing ? 'Editar Producto' : 'Nuevo Producto' }}
    </h5>
  </div>
  
  <div class="card-body">
    <form (ngSubmit)="onSubmit()">
      
      <div class="row mb-2">
        <div class="col-md-4">
          <label class="form-label small">SKU</label>
          <input type="text" class="form-control form-control-sm" 
                 [(ngModel)]="product.sku" name="sku" 
                 [disabled]="isEditing" required>
        </div>
        <div class="col-md-8">
          <label class="form-label small">Nombre</label>
          <input type="text" class="form-control form-control-sm" 
                 [(ngModel)]="product.name" name="name" required>
        </div>
      </div>

      <div class="mb-2">
        <label class="form-label small">Descripción</label>
        <textarea class="form-control form-control-sm" rows="2" 
                  [(ngModel)]="product.description" name="desc"></textarea>
      </div>

      <h6 class="text-muted small mt-3 border-bottom pb-1">Dimensiones Físicas</h6>
      
      <div class="row g-2">
        <div class="col-3">
          <label class="small">Ancho</label>
          <input type="number" class="form-control form-control-sm" [(ngModel)]="product.dimensions.width" name="w">
        </div>
        <div class="col-3">
          <label class="small">Alto</label>
          <input type="number" class="form-control form-control-sm" [(ngModel)]="product.dimensions.height" name="h">
        </div>
        <div class="col-3">
          <label class="small">Prof.</label>
          <input type="number" class="form-control form-control-sm" [(ngModel)]="product.dimensions.depth" name="d">
        </div>
        <div class="col-3">
          <label class="small fw-bold">Peso</label>
          <input type="number" class="form-control form-control-sm border-info" [(ngModel)]="product.dimensions.weight" name="wg">
        </div>
      </div>

      <hr class="my-3">

      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button *ngIf="isEditing" type="button" class="btn btn-outline-secondary btn-sm" (click)="cancelEdit()">
          Cancelar
        </button>
        
        <button type="submit" class="btn btn-sm text-white" 
                [ngClass]="isEditing ? 'btn-warning' : 'btn-success'">
          {{ isEditing ? 'Guardar Cambios' : 'Crear Producto' }}
        </button>
      </div>
    </form>
  </div>
</div>